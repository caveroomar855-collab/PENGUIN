# INSTRUCCIONES DE INSTALACI칍N Y CONFIGURACI칍N
# Penguin Ternos - Sistema Completo

## PASO 1: CONFIGURAR SUPABASE

1. Ve a https://supabase.com y crea una cuenta (si no tienes una)

2. Crea un nuevo proyecto:
   - Haz clic en "New Project"
   - Dale un nombre: "penguin-ternos"
   - Elige una contrase침a segura
   - Selecciona la regi칩n m치s cercana
   - Espera a que se cree el proyecto (2-3 minutos)

3. Crear las tablas de la base de datos:
   - Ve a la secci칩n "SQL Editor" en el men칰 lateral
   - Abre el archivo: c:\a\backend\database\schema.md
   - Copia TODO el c칩digo SQL que est치 ah칤
   - P칠galo en el editor SQL de Supabase
   - Haz clic en "Run" para ejecutar

4. Obtener las credenciales:
   - Ve a "Settings" > "API"
   - Copia el "Project URL"
   - Copia el "anon public" key
   - GUARDA ESTOS DATOS, los necesitar치s en el siguiente paso

## PASO 2: CONFIGURAR EL BACKEND (Node.js)

1. Abrir PowerShell en Windows y navegar a la carpeta del backend:
   ```powershell
   cd c:\a\backend
   ```

2. Copiar el archivo de ejemplo de configuraci칩n:
   ```powershell
   copy .env.example .env
   ```

3. Editar el archivo .env con tus credenciales de Supabase:
   ```powershell
   notepad .env
   ```
   
   Reemplaza estos valores:
   ```
   PORT=3000
   SUPABASE_URL=pega_aqui_tu_project_url
   SUPABASE_KEY=pega_aqui_tu_anon_key
   ```
   
   Guarda el archivo (Ctrl+S) y cierra el Notepad

4. Instalar las dependencias de Node.js:
   ```powershell
   npm install
   ```
   
   Espera a que termine (puede tardar 2-3 minutos)

5. Iniciar el servidor:
   ```powershell
   npm start
   ```
   
   Deber칤as ver el mensaje: "Servidor corriendo en http://localhost:3000"
   
   춰IMPORTANTE! Deja esta ventana de PowerShell abierta mientras uses la app

## PASO 3: CONFIGURAR FLUTTER

1. Abrir OTRA ventana de PowerShell (deja la anterior abierta)

2. Navegar a la carpeta de Flutter:
   ```powershell
   cd c:\a\flutter_app
   ```

3. Obtener tu direcci칩n IP local (solo si usar치s un dispositivo f칤sico):
   ```powershell
   ipconfig
   ```
   
   Busca "Adaptador de LAN inal치mbrica Wi-Fi" y anota la direcci칩n IPv4
   Ejemplo: 192.168.1.100

4. Configurar la URL de la API:
   
   Edita el archivo: c:\a\flutter_app\lib\config\api_config.dart
   
   - Si usar치s el EMULADOR de Android:
     ```dart
     static const String baseUrl = 'http://10.0.2.2:3000/api';
     ```
   
   - Si usar치s un DISPOSITIVO F칈SICO:
     ```dart
     static const String baseUrl = 'http://TU_IP_AQUI:3000/api';
     ```
     Reemplaza TU_IP_AQUI con la IP que anotaste en el paso 3
     Ejemplo: 'http://192.168.1.100:3000/api'

5. Instalar dependencias de Flutter:
   ```powershell
   flutter pub get
   ```

6. Conectar tu dispositivo Android o iniciar el emulador:
   
   Para verificar que est치 conectado:
   ```powershell
   flutter devices
   ```
   
   Deber칤as ver al menos un dispositivo listado

7. Ejecutar la aplicaci칩n:
   ```powershell
   flutter run
   ```
   
   La aplicaci칩n se compilar치 e instalar치 (puede tardar 3-5 minutos la primera vez)

## PASO 4: USAR LA APLICACI칍N

1. La app iniciar치 mostrando el splash screen con el logo
2. Luego ver치s la pantalla principal con 4 pesta침as en la parte inferior
3. Ve a "Configuraci칩n" y configura:
   - Tu nombre
   - Garant칤a por defecto (ejemplo: 50)
   - Mora diaria (ejemplo: 10)
   - D칤as m치ximos de mora (ejemplo: 7)
4. Haz clic en "Guardar Configuraci칩n"
5. 춰Listo! Ya puedes usar el sistema

## VERIFICAR QUE TODO FUNCIONE

1. Backend corriendo:
   - Abre un navegador
   - Ve a: http://localhost:3000
   - Deber칤as ver: {"message":"API de Penguin Ternos funcionando correctamente"}

2. App conectada al backend:
   - En la app, ve a "Configuraci칩n"
   - Si ves tus datos guardados, 춰est치 funcionando!

## SOLUCI칍N DE PROBLEMAS COMUNES

### Error: "EADDRINUSE" al iniciar el backend
El puerto 3000 ya est치 en uso. Opciones:
1. Cierra cualquier programa que use el puerto 3000
2. O cambia el puerto en el archivo .env a otro (ejemplo: 3001)

### Error: "Connection refused" en la app
1. Verifica que el backend est칠 corriendo
2. Revisa la URL en api_config.dart
3. Si usas dispositivo f칤sico, aseg칰rate de estar en la misma red WiFi

### Error: "pub get failed"
```powershell
flutter clean
flutter pub get
```

### La app no se conecta desde el dispositivo f칤sico
1. Verifica que tu computadora y el dispositivo est칠n en la misma red WiFi
2. Desactiva temporalmente el firewall de Windows
3. Verifica la IP con: ipconfig

### Supabase no responde
1. Verifica las credenciales en el archivo .env
2. Revisa que las tablas se hayan creado correctamente
3. Comprueba tu conexi칩n a internet

## COMANDOS 칔TILES

### Backend
```powershell
# Detener el servidor
Ctrl + C

# Reiniciar el servidor
npm start

# Ver logs en tiempo real
# (Ya se muestran autom치ticamente cuando est치 corriendo)
```

### Flutter
```powershell
# Detener la app
Ctrl + C

# Ejecutar en modo release (m치s r치pido)
flutter run --release

# Ver dispositivos conectados
flutter devices

# Limpiar cach칠
flutter clean

# Reinstalar dependencias
flutter pub get
```

## SIGUIENTE PASO: AGREGAR DATOS DE PRUEBA

Una vez que todo est칠 funcionando, puedes agregar datos de prueba:

1. Ve a Supabase > SQL Editor
2. Ejecuta estos comandos para agregar art칤culos de ejemplo:

```sql
INSERT INTO articulos (codigo, nombre, tipo, talla, color, precio_alquiler, precio_venta, estado)
VALUES 
  ('SAC001', 'Saco Negro Cl치sico', 'saco', 'M', 'Negro', 30.0, 200.0, 'disponible'),
  ('PAN001', 'Pantal칩n Negro Formal', 'pantalon', 'M', 'Negro', 20.0, 120.0, 'disponible'),
  ('CAM001', 'Camisa Blanca Premium', 'camisa', 'M', 'Blanco', 15.0, 80.0, 'disponible'),
  ('ZAP001', 'Zapatos Negros Elegantes', 'zapato', '42', 'Negro', 25.0, 150.0, 'disponible'),
  ('CHAL001', 'Chaleco Gris Perla', 'chaleco', 'M', 'Gris', 20.0, 100.0, 'disponible');
```

3. En la app, ve a "Inventario" y deber칤as ver los art칤culos

## DESARROLLO FUTURO

Las siguientes funcionalidades est치n en la base del c칩digo pero requieren
completar las interfaces de usuario:

- Crear alquileres completos
- Crear ventas completas
- Gesti칩n completa de inventario
- Generaci칩n de reportes PDF
- M칩dulo de citas

El backend ya est치 preparado para todas estas funcionalidades.

## SOPORTE

Si tienes problemas:
1. Verifica que seguiste todos los pasos
2. Lee la secci칩n de "Soluci칩n de problemas"
3. Revisa el archivo README.md en c:\a\ para m치s detalles

---

춰칄xito con tu proyecto Penguin Ternos! 游냖游녮
